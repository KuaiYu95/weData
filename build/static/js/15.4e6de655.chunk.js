(window.webpackJsonpsite=window.webpackJsonpsite||[]).push([[15],{204:function(e,t,n){"use strict";var r=n(213),a=n.n(r);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("GET"===t){var r="";return Object.keys(n).forEach((function(e){r+=e+"="+n[e]+"&"})),r&&(e=e+"?"+(r=r.substring(0,r.length-1))),a.a.get(e)}if("POST"===t)return a.a.post(e,n)}n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"m",(function(){return s})),n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return v})),n.d(t,"l",(function(){return O})),n.d(t,"e",(function(){return h}));var o=function(e){return c("/get-total","GET")},i=function(e){return c("/get-timeline","GET")},u=function(e){return c("/add-timeline","POST",e)},l=function(e){return c("/get-todos","GET")},d=function(e){return c("/add-todos","POST",e)},s=function(e){return c("/modify-todos","POST",e)},f=function(e){return c("/del-todos","POST",e)},m=function(e){return c("/get-foot-print","GET")},b=function(e){return c("/add-foot-print","POST",e)},p=function(e){return c("/get-diary","GET")},v=function(e){return c("/add-diary","POST",e)},O=function(e){return c("/get-url","GET")},h=function(e){return c("/add-url","POST",e)}},407:function(e,t,n){},447:function(e,t,n){"use strict";n.r(t);n(91);var r=n(51),a=(n(207),n(209)),c=(n(121),n(28)),o=(n(119),n(16)),i=(n(244),n(248)),u=(n(405),n(438)),l=n(206),d=n(216),s=(n(211),n(215)),f=n(439),m=n(1),b=n.n(m),p=n(204);n(407);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(){var e=Object(m.useState)([]),t=Object(f.a)(e,2),n=t[0],l=t[1];Object(m.useEffect)((function(){_()}),[]);var v=Object(m.useState)(""),h=Object(f.a)(v,2),E=h[0],g=h[1],k=Object(m.useState)(),C=Object(f.a)(k,2),j=C[0],y=C[1],S=Object(m.useState)(),P=Object(f.a)(S,2),T=P[0],w=P[1],N=Object(m.useState)("All"),A=Object(f.a)(N,2),x=A[0],G=A[1],_=function(){Object(p.j)({}).then((function(e){if(e.data&&e.data.success){l(e.data.data);var t=e.data.data.every((function(e){return!0===e.isChecked}));y(!!t),F(e.data.data)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u67e5\u770b\u7f51\u7edc\uff01")}))},F=function(e){var t=e.reduce((function(e,t){return t.isChecked?e:e+1}),0);w(t),y(0===t)},D=function(e){var t=e.target.id,r=e.target.checked;Object(p.m)({type:!1,_id:t,isChecked:r}).then((function(e){if(e.data&&e.data.success){var a=Object(d.a)(n).map((function(e){return e._id===t?O({},e,{isChecked:r}):e}));l(a),F(n)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff01")}))},z=function(e){var t=e.target.dataset.id;Object(p.f)({_id:t,type:!1}).then((function(e){if(e.data&&e.data.success){var r=n.filter((function(e){return e._id!==t}));l(r)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff01")}))},B=function(e){switch(e){case"All":G("All");break;case"Active":G("Active");break;case"Completed":G("Completed")}};return b.a.createElement("div",{className:"todos-container"},b.a.createElement("div",{className:"header"},b.a.createElement(a.a,{value:E,onChange:function(e){g(e.target.value)},placeholder:"What needs to be done?"}),b.a.createElement(r.a,{className:"btn",onClick:function(){var e=E.trim();""===e?s.a.warn("\u8bf7\u8f93\u5165\u4ee3\u529e\u4efb\u52a1"):Object(p.d)({content:e}).then((function(e){e.data&&e.data.success?_():s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u67e5\u770b\u7f51\u7edc\uff01")}))},type:"primary"},"Add")),b.a.createElement("div",{className:"center"},b.a.createElement(u.a,{checked:!!j,onClick:function(){j?Object(p.m)({type:!0,check:!1}).then((function(e){if(e.data&&e.data.success){var t=Object(d.a)(n).map((function(e){return O({},e,{isChecked:!1})}));l(t),y(!1)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff01")})):Object(p.m)({type:!0,check:!0}).then((function(e){if(e.data&&e.data.success){var t=Object(d.a)(n).map((function(e){return e.isChecked?e:O({},e,{isChecked:!0})}));l(t),y(!0)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff01")}))}}),b.a.createElement("span",{className:"ml"}," ",b.a.createElement("span",{className:"left"},T)," items left"),b.a.createElement("div",{style:"All"===x?{color:"#F45C24",boxSizing:"border-box",borderBottom:"3px solid #F45C24"}:{},onClick:function(){return B("All")},className:"all ml"},"All"),b.a.createElement("div",{style:"Active"===x?{color:"#F45C24",boxSizing:"border-box",borderBottom:"3px solid #F45C24"}:{},onClick:function(){return B("Active")},className:"active ml"},"Active"),b.a.createElement("div",{style:"Completed"===x?{color:"#F45C24",boxSizing:"border-box",borderBottom:"3px solid #F45C24"}:{},onClick:function(){return B("Completed")},className:"completed ml"},"Completed"),b.a.createElement("span",{className:"clear ml",onClick:function(){Object(p.f)({type:!0}).then((function(e){if(e.data&&e.data.success){var t=n.filter((function(e){return!e.isChecked}));l(t)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff01")}))}},b.a.createElement(i.a,{color:"blue"},"Clear Completed"))),b.a.createElement((function(e){var t=e.value,n=["magenta","gold","cyan","volcano","blue","geekblue","orange","red","green","purple"],r=[];switch(x){case"Active":r=t.filter((function(e){return!e.isChecked}));break;case"Completed":r=t.filter((function(e){return!!e.isChecked}));break;default:r=t}return F(r),b.a.createElement("div",{className:"list"},r.length>0?r.map((function(e,t){var r=n[t%10];return b.a.createElement("div",{className:"item",key:e._id},b.a.createElement(u.a,{style:{float:"left"},id:e._id,checked:e.isChecked,onClick:D}),b.a.createElement("div",{className:"block"},b.a.createElement(i.a,{color:r},b.a.createElement("div",{className:"todo",style:e.isChecked?{textDecoration:"line-through"}:{}},t+1+". "+e.content)),b.a.createElement("div",{className:"time"},e.time)),b.a.createElement("div",{style:{float:"right"},"data-id":e._id,onClick:z},b.a.createElement("span",{style:{pointerEvents:"none",color:"gray"}},b.a.createElement(o.a,{type:"delete"}))))})):b.a.createElement(c.a,null))}),{value:n}))}}}]);
//# sourceMappingURL=15.4e6de655.chunk.js.map