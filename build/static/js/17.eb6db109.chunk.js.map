{"version":3,"sources":["api/ajax.tsx","api/index.tsx","containers/TimeLine/index.tsx"],"names":["ajax","url","type","data","urlStr","Object","keys","forEach","key","substring","length","axios","get","post","getTotal","getTimeline","addTimeline","getTodos","addTodos","modifyTodos","delTodos","getFootPrint","addFootPrint","getDiary","addDiary","getUrl","addUrl","Item","options","label","value","TimeLine","state","timeline","color","content","handleInput","e","setState","target","handleCascader","console","log","getData","then","res","success","error","submit","time","Date","toLocaleDateString","split","join","trim","status","this","className","onChange","placeholder","onClick","mode","reverse","map","item","idx","style","React","Component"],"mappings":"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","file":"static/js/17.eb6db109.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nexport default function ajax(url:string = '', type:string = 'GET', data:any = {}):any {\r\n  \r\n  if (type === 'GET') {\r\n    let urlStr = ''\r\n    Object.keys(data).forEach((key) => {\r\n      urlStr += key + '=' + data[key] + '&'\r\n    })\r\n    if(urlStr) {\r\n      urlStr = urlStr.substring(0, urlStr.length - 1)\r\n      url = url + '?' + urlStr\r\n    }\r\n    return axios.get(url)\r\n  } else if (type === 'POST') {\r\n    return axios.post(url, data)\r\n  }\r\n}","import ajax from './ajax'\r\n// 获取首页数据\r\nexport const getTotal = (data:object) => ajax('/get-total', 'GET')\r\n// 获取时间线\r\nexport const getTimeline = (data:object) => ajax('/get-timeline', 'GET')\r\n// 添加时间线\r\nexport const addTimeline = (data:object) => ajax('/add-timeline', 'POST', data)\r\n// 获取 todos\r\nexport const getTodos = (data:object) => ajax('/get-todos', 'GET')\r\n// 添加 todo\r\nexport const addTodos = (data:object) => ajax('/add-todos', 'POST', data)\r\n// 修改 todo\r\nexport const modifyTodos = (data:object) => ajax('/modify-todos', 'POST', data)\r\n// 删除 todo\r\nexport const delTodos = (data:object) => ajax('/del-todos', 'POST', data)\r\n// 获取 足迹\r\nexport const getFootPrint = (data:object) => ajax('/get-foot-print', 'GET')\r\n// 添加 足迹\r\nexport const addFootPrint = (data:object) => ajax('/add-foot-print', 'POST', data)\r\n// 获取 日记\r\nexport const getDiary = (data:object) => ajax('/get-diary', 'GET')\r\n// 添加 日记\r\nexport const addDiary = (data:object) => ajax('/add-diary', 'POST', data)\r\n// 获取 收藏\r\nexport const getUrl = (data:object) => ajax('/get-url', 'GET')\r\n// 添加 收藏\r\nexport const addUrl = (data:object) => ajax('/add-url', 'POST', data)","import React from 'react'\nimport { Timeline, message, Empty, Input, Button, Cascader } from 'antd'\nimport { getTimeline, addTimeline } from '../../api'\nimport './index.less'\n\nconst {Item} = Timeline\n\nconst options = [\n  {\n    label: '构建项目',\n    value: 'gray',\n  }, {\n    label: '发表帖子 / 论坛',\n    value: 'yellow',\n  }, {\n    label:'发表文章 / 博客',\n    value: 'green',\n  }, {\n    label: '填写日记',\n    value: 'aqua',\n  }, {\n    label: '添加足迹',\n    value: 'tan',\n  }, {\n    label: '添加待办事项',\n    value: 'black',\n  }, {\n    label: '上传照片',\n    value: 'orange',\n  }\n]\n\nclass TimeLine extends React.Component {\n  state = {\n    timeline: [],\n    color: '',\n    content: '',\n  }\n  componentDidMount() {\n    this.getData()\n  }\n  handleInput = (e:any) => {\n    this.setState({content: e.target.value})\n  }\n  handleCascader = (value:any) => {\n    console.log(value[0])\n    this.setState({color: value[0]})\n  }\n  getData = () => {\n    getTimeline({})\n    .then((res:any) => {\n      if (res.data && res.data.success) {\n        this.setState({timeline: res.data.data})\n      } else {\n        message.error('数据请求失败，请查看网络！')\n      }\n    })\n  }\n  submit = () => {\n    const {color, content} = this.state\n    const time = new Date().toLocaleDateString().split('/').join('-')\n    if (content.trim() !== '') {\n      addTimeline({time, color, content})\n        .then((res:any) => {\n          this.setState({\n            color: '',\n            content: '',\n            time: ''\n          })\n          if ((res.data && !res.data.success) || res.status !== 200) {\n            message.error('数据发送失败，请查看网络！')\n          }\n          if(res.data && res.data.success) {\n            this.getData()\n          }\n        })\n    }\n  }\n  render() {\n    const {timeline, color, content} = this.state\n    return (\n      <>\n        <div className=\"tips\">\n          <Timeline>\n            <Item color=\"yellow\">发表帖子 / 论坛</Item>\n            <Item color=\"green\">发表文章 / 博客</Item>\n            <Item color=\"aqua\">填写日记</Item>\n            <Item color=\"tan\">添加足迹</Item>\n            <Item color=\"black\">添加待办事项</Item>\n            <Item>上传照片</Item>\n            <Item color=\"gray\">构建项目</Item>\n          </Timeline>\n        </div>\n        <div className=\"write\">\n          <Input className=\"input\" value={content} onChange={this.handleInput} placeholder=\"请输入时间线标题\" />\n          <Cascader className=\"cascader\" value={[color]} options={options} onChange={this.handleCascader} placeholder=\"选择类型\" />\n          <Button type=\"primary\" className=\"btn\" onClick={this.submit}>确定</Button>\n        </div>\n        <div className=\"timeline\">\n          {timeline.length !== 0 ? <Timeline mode=\"alternate\" reverse>\n            {\n              timeline.map((item:any, idx:number) => {\n                return <Item key={idx} color={item.color}><span style={{color: \"\"}}>{item.time}</span> {item.content}</Item>\n              })\n            }\n          </Timeline> : <Empty />}\n        </div>\n      </>\n    )\n  }\n}\n\nexport default TimeLine"],"sourceRoot":""}