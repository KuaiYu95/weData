(window.webpackJsonpsite=window.webpackJsonpsite||[]).push([[18],{204:function(e,t,n){"use strict";var a=n(213),r=n.n(a);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("GET"===t){var a="";return Object.keys(n).forEach((function(e){a+=e+"="+n[e]+"&"})),a&&(e=e+"?"+(a=a.substring(0,a.length-1))),r.a.get(e)}if("POST"===t)return r.a.post(e,n)}n.d(t,"k",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"m",(function(){return s})),n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"l",(function(){return C})),n.d(t,"e",(function(){return p}));var i=function(e){return c("/get-total","GET")},o=function(e){return c("/get-timeline","GET")},l=function(e){return c("/add-timeline","POST",e)},u=function(e){return c("/get-todos","GET")},d=function(e){return c("/add-todos","POST",e)},s=function(e){return c("/modify-todos","POST",e)},f=function(e){return c("/del-todos","POST",e)},m=function(e){return c("/get-foot-print","GET")},b=function(e){return c("/add-foot-print","POST",e)},v=function(e){return c("/get-diary","GET")},h=function(e){return c("/add-diary","POST",e)},C=function(e){return c("/get-url","GET")},p=function(e){return c("/add-url","POST",e)}},418:function(e,t,n){},454:function(e,t,n){"use strict";n.r(t);n(121);var a=n(91),r=(n(206),n(208)),c=(n(124),n(27)),i=(n(122),n(17)),o=(n(216),n(219)),l=(n(416),n(447)),u=n(209),d=n(218),s=(n(211),n(215)),f=n(448),m=n(0),b=n.n(m),v=n(204);n(418);t.default=function(){var e=Object(m.useState)([]),t=Object(f.a)(e,2),n=t[0],h=t[1];Object(m.useEffect)((function(){_()}),[]);var C=Object(m.useState)(""),p=Object(f.a)(C,2),k=p[0],E=p[1],O=Object(m.useState)(),g=Object(f.a)(O,2),j=g[0],y=g[1],A=Object(m.useState)(),S=Object(f.a)(A,2),T=S[0],N=S[1],x=Object(m.useState)("All"),w=Object(f.a)(x,2),G=w[0],P=w[1],_=function(){Object(v.j)({}).then((function(e){if(e.data&&e.data.success){h(e.data.data);var t=e.data.data.every((function(e){return!0===e.isChecked}));y(!!t),F(e.data.data)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u67e5\u770b\u7f51\u7edc\uff01")}))},F=function(e){var t=e.reduce((function(e,t){return t.isChecked?e:e+1}),0);N(t),y(0===t)},z=function(e){var t=e.target.id,a=e.target.checked;Object(v.m)({type:!1,_id:t,isChecked:a}).then((function(e){if(e.data&&e.data.success){var r=Object(d.a)(n).map((function(e){return e._id===t?Object(u.a)({},e,{isChecked:a}):e}));h(r),F(n)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff01")}))},B=function(e){var t=e.target.dataset.id;Object(v.f)({_id:t,type:!1}).then((function(e){if(e.data&&e.data.success){var a=n.filter((function(e){return e._id!==t}));h(a)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff01")}))},J=function(e){switch(e){case"All":P("All");break;case"Active":P("Active");break;case"Completed":P("Completed")}};return b.a.createElement("div",{className:"todos-container"},b.a.createElement("div",{className:"header"},b.a.createElement(r.a,{value:k,onChange:function(e){E(e.target.value)},placeholder:"What needs to be done?"}),b.a.createElement(a.a,{className:"btn",onClick:function(){var e=k.trim();""===e?s.a.warn("\u8bf7\u8f93\u5165\u4ee3\u529e\u4efb\u52a1"):Object(v.d)({content:e}).then((function(e){e.data&&e.data.success?_():s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u67e5\u770b\u7f51\u7edc\uff01")}))},type:"primary"},"Add")),b.a.createElement("div",{className:"center"},b.a.createElement(l.a,{checked:!!j,onClick:function(){j?Object(v.m)({type:!0,check:!1}).then((function(e){if(e.data&&e.data.success){var t=Object(d.a)(n).map((function(e){return Object(u.a)({},e,{isChecked:!1})}));h(t),y(!1)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff01")})):Object(v.m)({type:!0,check:!0}).then((function(e){if(e.data&&e.data.success){var t=Object(d.a)(n).map((function(e){return e.isChecked?e:Object(u.a)({},e,{isChecked:!0})}));h(t),y(!0)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff01")}))}}),b.a.createElement("span",{className:"ml"}," ",b.a.createElement("span",{className:"left"},T)," items left"),b.a.createElement("div",{style:"All"===G?{color:"#1CACF4",boxSizing:"border-box",borderBottom:"3px solid #1CACF4"}:{},onClick:function(){return J("All")},className:"all ml"},"All"),b.a.createElement("div",{style:"Active"===G?{color:"#1CACF4",boxSizing:"border-box",borderBottom:"3px solid #1CACF4"}:{},onClick:function(){return J("Active")},className:"active ml"},"Active"),b.a.createElement("div",{style:"Completed"===G?{color:"#1CACF4",boxSizing:"border-box",borderBottom:"3px solid #1CACF4"}:{},onClick:function(){return J("Completed")},className:"completed ml"},"Completed"),b.a.createElement("span",{className:"clear ml",onClick:function(){Object(v.f)({type:!0}).then((function(e){if(e.data&&e.data.success){var t=n.filter((function(e){return!e.isChecked}));h(t)}else s.a.error("\u6570\u636e\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff01")}))}},b.a.createElement(o.a,{color:"blue"},"Clear Completed"))),b.a.createElement((function(e){var t=e.value,n=["magenta","gold","cyan","volcano","blue","geekblue","orange","red","green","purple"],a=[];switch(G){case"Active":a=t.filter((function(e){return!e.isChecked}));break;case"Completed":a=t.filter((function(e){return!!e.isChecked}));break;default:a=t}return F(a),b.a.createElement("div",{className:"list"},a.length>0?a.map((function(e,t){var a=n[t%10];return b.a.createElement("div",{className:"item",key:e._id},b.a.createElement(l.a,{style:{float:"left"},id:e._id,checked:e.isChecked,onClick:z}),b.a.createElement("div",{className:"block"},b.a.createElement(o.a,{color:a},b.a.createElement("div",{className:"todo",style:e.isChecked?{textDecoration:"line-through"}:{}},t+1+". "+e.content)),b.a.createElement("div",{className:"time"},e.time)),b.a.createElement("div",{style:{float:"right"},"data-id":e._id,onClick:B},b.a.createElement("span",{style:{pointerEvents:"none",color:"gray"}},b.a.createElement(i.a,{type:"delete"}))))})):b.a.createElement(c.a,null))}),{value:n}))}}}]);
//# sourceMappingURL=18.8a29ff00.chunk.js.map